<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
    <title>Monitor data</title>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/monitor.js"></script>
    <script type="text/javascript" src="scripts/d3.min.js"></script>
    <script type="text/javascript" src="scripts/radialProgress.js"></script>

    <link type="text/css" rel="stylesheet" href="styles/style.css">
    <style type="text/css">
      #newImg {
        display: block;
        max-width: 100px;
        max-height: 100px;
        width: auto;
        height: auto;
      }

      #outer {
          background:#FFFFFF;
          border-radius: 5px;
          color: #000;
      }

      #div1, #div2, #div3, #div4 {
          width: 33%;
          height: 200px;
          box-sizing: border-box;
          float: left;
      }

      #div1 .arc {
          stroke-weight: 0.1;
          fill: #f0a417;
      }


      .selectedRadial {
          border-radius: 3px;
          background: #f4f4f4;
          color: #000;
          box-shadow: 0 1px 5px rgba(0,0,0,0.4);
          -moz-box-shadow: 0 1px 5px rgba(0,0,0,0.4);
          border: 1px solid rgba(200,200,200,0.85);
      }

      .radial {
          border-radius: 3px;
          background: #FFFFFF;
          color: #000;

      }
    </style>
  </head>
  <body>
    <div data-role="page">
      <p>This is our roof monitor</p>
      <p>Clock: <span id="date"></span></p>

      <div id="main" style="width:1000px; height:200px; margin: 0px auto; ">
        <div id = "div1"></div>
      </div>

      <p>Humidity: <span id="humidity">(loading..)</span> %RH</p>
      <p>Data received: <span id='countData'>0</span></p>
      <!-- <img id="newImg" src='/image/No_Image_Available.png'> -->
    </div>
  </body>
  <script type="text/javascript">

        var div1=d3.select(document.getElementById('div1'));

        start();

        function create(){
          var hu = socket.str;
          var rp1 = radialProgress(document.getElementById('div1'))
                  .label("HUMIDITY")
                  .onClick(onClick1)
                  .diameter(150)
                  .value(hu)
                  .render();
        }
        function update(){
          radialProgress(document.getElementById('div1'))
          .diameter(150)
          .value((Math.random() * 100) + 1)
          .render();
        }
        function onClick1() {
            deselect();
            div1.attr("class","selectedRadial");
        }

        function start() {
          create();
          setInterval(update,5000);          
        }
  </script>
</html>